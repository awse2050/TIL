
### 세션 타임아웃 설정

세션은 사용자가 로그아웃을 직접 호출해서 `session.invalidate()` 가 호출 되는 경우에 삭제된다. 

그런데 대부분의 사용자는 로그아웃을 선택하지 않고, 그냥 웹 브라우저를 종료한다.

문제는 HTTP가 `비연결성(ConnectionLess)` 이므로 서버 입장에서는 해당 사용자가 웹 브라우저를 종료한 것인지 아닌지를 인식할 수 없다.

따라서 서버에서 세션 데이터를 언제 삭제해야 하는지 판단하기가 어렵다.

이 경우 남아있는 세션을 무한정 보관하면 다음과 같은 문제가 발생할 수 있다. 

세션과 관련된 쿠키( JSESSIONID )를 탈취 당했을 경우 오랜 시간이 지나도 해당 쿠키로 악의적인 요청을 할 수 있다.
세션은 기본적으로 메모리에 생성된다.

메모리의 크기가 무한하지 않기 때문에 꼭 필요한 경우만 생성해서 사용해야 한다. 

10만명의 사용자가 로그인하면 10만개의 세션이 생성되는 것이다.

### 세션의 종료 시점

세션의 종료시점은 **30분**이 가장 적당하다.

이때 고려사항은 30분이 지나면 세션이 삭제 되기 떄문에 재로그인을 해야하지만,

사용자가 서버요청을 마지막으로 했던 시간을 기준으로 30분을 유지시키는 방식의 대안이 존재한다.

`HttpSession`은 이 방식을 사용하고 있다.


### 세션 타임아웃 설정

스프링 부트로 글로벌 설정 하기

```java
// application.properties
server.servlet.session.timeout=60  // : 60초, 기본은 1800(30분)
```
(글로벌 설정은 분 단위로 설정해야 한다. 60(1분), 120(2분), ...)
