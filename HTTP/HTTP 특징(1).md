### HTTP 특징

#### 1. Client, Server 구조

`Client` 는 `Server` 에 요청을 보내고 응답을 대기한다.

`Server` 는 요청에 대한 결과를 만들어서 응답을 보내준다.


여기서 각자의 위치에서의 역할에 집중해야한다.


`Client` 는 단순하게 `UI` 를 어떻게 그릴지 집중하고,

`Server` 는 비즈니스 로직에 집중해야 한다.


`HTTP` 의 중요한 특징 중 하나는 `무상태 프로토콜`인데, `Server` 가 `Client`의 상태를 보존하지 않는 것이다.



#### 2. Stateless (무상태)

`Stateful` 이라는 것은 상태를 유지한다는 것을 의미한다.

그 반대의 의미인 `Stateless` 와의 차이점은?

ex)

+ 상태유지 -> 중간에 다른 점원으로 바뀌면 안된다.

만약 다른점원으로 바뀐다면 그 점원이 상태정보를 알고 있어야 한다.

+ 무상태 - 중간에 다른 점원으로 바뀌어도 상관 없다.

같은 정보를 한번에 전달을 하기 떄문에 다른 점원이 해당 정보를 들어도 그 요청에 대한 응답이 가능하다.


결과적으로 `Stateful` 은 중간에 서버가 장애가 나면 요청을 처음부터 다시 해야한다.

하지만, `Stateless` 는 아무 서버나 호출해도 상관이 없다. 다시 같은 정보를 다른서버에 요청을 할수 있기 떄문.

---

**실무 한계**

보통 로그인의 경우 상태를 유지해야하는 상황인데, 이럴때는 일반적으로 브라우저의 `쿠키` 와 `세션` 을 조합해서

상태를 유지하는 기능을 쓴다.

상태유지는 최소한으로 어쩔 수 없는 경우에만 사용해야 한다.

---


#### 3. 비연결성


기본적으로 `TCP/IP` 는 연결을 유지한다.

여러 클라이언트가 요청을 각각 하는 동안에 서버는 연결을 유지하고 있으며 서버의 자원을 소모한다.

요청을 안하고 있어도 서버와 연결을 유지해야 한다.


그러나 `HTTP` 는 기본적으로 연결을 유지 하지 않는 모델이다.

일반적으로 초 단위의 빠른 속도로 응답을 한다.

수천명이 1시간 동안 서비스를 이용해도 실제 서버에서 동시에 처리하는 요청을 수십개 이하이다.

그렇다면 `HTTP` 가 서버의 자원을 효율적으로 쓰는 방법이라는 것이다.


**3-1 HTTP 비연결성의 단점**

+ `TCP/IP` 의 연결을 새로 맺어야 한다.

+ 웹 브라우저로 사이트 요청을 하게 될 경우 HTML, JS 등 수 많은 자원이 다운로드 된다.

따라서 `지속연결` 이라는 것을 기본적으로 쓴다.


**HTTP 초기**
```text
연결 - 요청/HTML 응답 - 종료
연결 - 요청/JS 응답 - 종료
연결 - 요청/이미지 응답 - 종료
```
이런식으로 요청이 올 때마다 연결을 시켜줘야한다.

**지속연결을 사용할 경우**

```text
연결 - 요청/HTML 응답, 요청/JS 응답, 요청/이미지 응답 - 종료
```

최대한 무상태로 설계하는 것이 중요하다.



