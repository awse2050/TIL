### HTTP 특징 ( HTTP 메세지 )


1. HTTP 메세지

웹에서 사용되는 자원들( 사진, 동영상 ) 등등 을 통틀어서 `Resource` 라고 한다.

`HTTP` 를 설계 할때 `Resource` 를 가지고 설계를 한다.


**HTTP URI 설계 예시**

+ 회원 목록 조회 - `/members`

+ 회원 조회 - `/members/{id}`

+ 회원 등록 - `/members`

+ 회원 수정 - `/members/{id}`

+ 회원 삭제 - `/members/{id}`

---

2. HTTP 메서드 종류

`GET` -  리소스 조회

`POST` - 요청 데이터 처리, 주로 등록에 사용한다.

`PUT` - 리소스가 있으면 대체하고, 없으면 생성한다.

`PATCH` - 리소스 부분 변경

`DELETE` - 리소스 삭제


2-1 GET

서버에 전달하는 데이터를 `Query` 로 전달한다.
메세지의 `body` 를 사용하지 않는다.


2-2 POST

요청 데이터를 처리하며

메세지 바디를 통해 서버로 요청 데이터를 전달한다.

서버가 메세지 바디의 데이터를 통해서 기능을 수행하고 응답한다.

2-3 PUT

리소스가 있으면 대체, 없으면 생성한다.

`POST` 와 다른점은 `Client` 가 리소스를 식별한다는 점이다.

리소스 전체를 변경하는 것이기 떄문에, 부분 변경을 하려면 `PATCH` 를 사용해야 한다.

2-4 PATCH 

리소스의 부분 변경

2-5 DELETE

리소스 제거


---

3. HTTP 메서드의 속성

* 안전
* 멱등성
* 캐시가능

---

3-1 안전

호출해도 리소스가 변경되지 않는다.

3-2 멱등성

한번 호출하든 여러번 호출하든 결과가 항상 같다.

`GET`, `PUT` , `DELETE` 는 멱등을 유지하지만 `POST`는 아니다.

예를 들어 두번 호출할 경우 같은 결제가 중복해서 발생할 수 있다.

`자동복구 메커니즘` 을 생각하면 된다.

재요청 중간에 다른곳에서 리소스를 변경한다면 멱등은 외부요인에 의한 중간변경은 고려하지 않는다.


3-3 캐시가능

`GET`, `HEAD`, `POST`, `PATCH` 는 캐시 가능

실제로는 `GET` 과 `HEAD` 정도만 사용한다.

`POST` 와 `PATCH` 는 본문 내용도 캐시 키로 고려해야 하므로 구현이 어려운 편이다.
